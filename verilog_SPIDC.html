<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<metaname=”viewport”content=”width=device-width,initial-scale=1″/>
<head>
    <script language="javascript" type="text/javascript">
	
        function showdiv() {
            document.getElementById("bg").style.display ="block";
           
        }
        function hidediv() {
            document.getElementById("bg").style.display ='none';
        }
		function loading()
		{
			if(document.readyState == "complete")
				hidediv();
			else
				showdiv();
		}
		setInterval(function() {loading()},100);
		
    </script>
     <script language="javascript" type="text/javascript">
	 var pic_flag=0;
	 function check_pic0()
	 {
		 pic_flag = 1;
		 document.getElementById("pic").style.display ="block";
		  document.getElementById("pic").style.display ="picshow0";
	 }
	 function check_pic1()
	 {
		 pic_flag = 1;
		 document.getElementById("pic").style.display ="block";
		 document.getElementById("pic").style.display ="picshow1";
	 }
	 function check_pic2()
	 {
		 pic_flag = 1;
		 document.getElementById("pic").style.display ="block";
		 document.getElementById("pic").style.display ="picshow2";
	 }
	 function dis_check_pic()
	 {
		 if(pic_flag)
		 {
			 document.		getElementById("pic").style.display ='none';
			 pic_flag=0;
			 
		 }
	 }
	 </script>
    <style type="text/css">
	    #pic{ display: none;  
		position: fixed;  
		top: 0%;  left: 0%;  
		width: 100%;  
		height: 100%;  
		background-color: white;  
		z-index:1001;  
		-moz-opacity: 0.7;  
		opacity:.70;  
		filter: alpha(opacity=70);}
        #bg{ display: none;  
		position: fixed;  
		top: 0%;  left: 0%;  
		width: 100%;  
		height: 100%;  
		background-color: black;  
		z-index:1001;  
		-moz-opacity: 0.7;  
		opacity:.70;  
		filter: alpha(opacity=70);}
        #show{display: none;  
		position: fixed;  
		top: 25%;  
		left: 22%;  
		width: 53%;  
		height: 49%;  
		padding: 8px;  
		border: 8px solid #E8E9F7;  
		background-color: white;  
		z-index:1002;  
		overflow: auto;}
        /*遮罩图片居中显示*/
        .zhezhao{
            position: absolute;
            top:50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
    </style>
</head>
<head>
    <script>
	function clock_set(num)
	{
		if(num < 10)
		{
			return "0"+num;
		}
		else
		{
			return num;
		}
	}
   	function gettime()
	{
		 var dat=new Date();
		 var hour= clock_set(dat.getHours());
		 var mint=clock_set(dat.getMinutes());
		 var second=clock_set(dat.getSeconds());
		 var time=hour+mint+second;
		 var txt = "";
		
		 if(hour>=9 && hour<12)
		 {
			txt = "上午"
		 }
		 else if(hour>=6 && hour<9)
		 {
			 txt = "早上"
		 }
		  else if(hour>=12 && hour<18)
		 {
			 txt = "下午"
		 }
		 else if(hour>=18 && hour<24)
		 {
			 txt = "晚上"
		 }
		 else
		 {
			 txt = "凌晨"
		 }
		 document.getElementById("showtime").innerHTML ="当前时间: "+txt+
		  hour+":"+mint+":"+second;
		 
	}
	setInterval(function() {gettime()},100);
    </script>
    
    <script language="javascript" type="text/javascript">
	function first_page(){
			window.location.href="GWJ_BLOG.html";
			}
	function about_author(){
		window.location.href="about_author.html";
	}
	function open_source(){
		window.location.href="open_source.html";
	}
	function com_author(){
		window.location.href="com_author.html";
	}
    </script>
    
    <script language="javascript" type="text/javascript">
	var button_ID = 0;
	function b0_func()
	{
		 button_ID = 0;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_general.html";
	     if(get_select_val("menu")=="MSP432主控板")
		 	window.location.href="MSP432_PCBgeneral.html";
		 if(get_select_val("menu")=="verilog")
		 	window.location.href="verilog_general.html";
	}
	function b1_func()
	{
		 button_ID = 1;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_FRE.html";
		 if(get_select_val("menu")=="MSP432主控板")
		 	window.location.href="MSP432_PCB1.html";
		 if(get_select_val("menu")=="verilog")
		 	window.location.href="verilog_SPIDC.html";
		 
	}
	function b2_func()
	{
		 button_ID = 2;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_GPIO.html";
		 if(get_select_val("menu")=="MSP432主控板")
		 	window.location.href="MSP432_PCB2.html";
		 if(get_select_val("menu")=="verilog")
		 	window.location.href="verilog_noliner.html";
		 
	}
	function b3_func()
	{
		 button_ID = 3;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_GPIOINT.html";
		 if(get_select_val("menu")=="verilog")
		 	window.location.href="verilog_ADC0832.html";
	}
	function b4_func()
	{
		 button_ID = 4;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_Timer.html";
	}
	function b5_func()
	{
		 button_ID = 5;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_UART.html";
	}
	function b6_func()
	{
		 button_ID = 6;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_IIC.html";
	}
	function b7_func()
	{
		 button_ID = 7;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_ADC14.html";
	}
	function b8_func()
	{
		 button_ID = 8;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_PWM.html";
	}
	function b9_func()
	{
		 button_ID = 9;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_BUZZER.html";
	}
	function b10_func()
	{
		 button_ID = 10;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_roate.html";
	}
	function b11_func()
	{
		 button_ID = 11;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_EEPROM.html";
	}
	function b12_func()
	{
		 button_ID = 12;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_ADC0832.html";
	}
	function b13_func()
	{
		 button_ID = 13;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_Oscil.html";
	}
	function b14_func()
	{
		 button_ID = 14;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_motor.html";
	}
	function b15_func()
	{
		 button_ID = 15;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_steer.html";
	}
	function b16_func()
	{
		 button_ID = 16;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_PID.html";
	}
	function get_select_val(id)
	{
		var index=document.getElementById(id).selectedIndex ;
		val=document.getElementById(id).options[index].value;
		return val;
	}
	function set_button_txt(id,txt)
	{
		document.getElementById(id).innerHTML = txt;
	}
	function set_button_display(id,status)
	{
		if(status==1)
			document.getElementById(id).style.display = "";
	    else
			document.getElementById(id).style.display ="none";
	}
	function slect_0_button_txt()
	{
		if(get_select_val("menu")=="MSP432基础函数库")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",1);
			set_button_display("b4",1);
			set_button_display("b5",1);
			set_button_display("b6",1);
			set_button_display("b7",1);
			set_button_display("b8",1);
			set_button_display("b9",1);
			set_button_display("b10",1);
			set_button_display("b11",1);
			set_button_display("b12",1);
			set_button_display("b13",1);
			set_button_display("b14",1);
			set_button_display("b15",1);
			set_button_display("b16",1);
			set_button_txt("b0","总览");
			set_button_txt("b1","主频设置");
			set_button_txt("b2","GPIO");
			set_button_txt("b3","GPIO中断");
			set_button_txt("b4","定时器中断");
			set_button_txt("b5","UART串口");
			set_button_txt("b6","模拟IIC");
			set_button_txt("b7","ADC14");
			set_button_txt("b8","PWM波");
			set_button_txt("b9","蜂鸣器");
			set_button_txt("b10","旋转编码开关");
			set_button_txt("b11","EEPROM");
			set_button_txt("b12","ADC0832");
			set_button_txt("b13","虚拟示波器");
			set_button_txt("b14","电机");
			set_button_txt("b15","舵机");
			set_button_txt("b16","PID控制");
		}
		else if(get_select_val("menu")=="MSP432主控板")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","1型板");
			set_button_txt("b2","2型板");
		}
		else if(get_select_val("menu")=="verilog")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",1);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","基于汉明编码的高速...");
			set_button_txt("b2","非线性函数协运算器");
			set_button_txt("b3","ADC0832高速采集接口");
		}
		else if(get_select_val("menu")=="上位机")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","虚拟串口助手");
			set_button_txt("b2","AI训练可视化上位机");
			set_button_txt("b2","AI训练数据采集上位机");
		}
		else if(get_select_val("menu")=="智能车竞赛")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",0);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","技术报告");
		}
	}
	
	function menu_refresh()
	{
		 slect_0_button_txt();
	}
	setInterval(function() {menu_refresh()},100);
	</script>
    
    
    
    <style type="text/css">
		._select_button {font-size:18px;
						background-color:#A5DF00;
						width:80%;
						}
		._display {margin-left: 20px}
		._article {font-size:  22px}
		._first_art{font-size:  24px;background:#CCC;}
	</style>
</head>


<body background="pic/bg.png">
   <div id="bg" @touchmove.prevent>
    <img class="zhezhao" src="pic/loading.gif">
   </div>    <!-- 遮罩层  -->
   
	<div id="pic" onclick="dis_check_pic()" @touchmove.prevent>
    <img class="zhezhao" id="picshow0" src="verilog/sim1.png">
    <img class="zhezhao" id="picshow1" src="verilog/sim2.png">
    <img class="zhezhao" id="picshow2" src="verilog/sim3.png">
   </div>    <!-- 遮罩层  -->
   
	<div style="width:auto;heigth:10%;background-color:#0B610B;">
    
    	<p>&nbsp;</p>
        
        <p style="width: auto; text-align: left; font-size: 30px; float: right; text-align: right; color: #FFF; background-color: #0B610B; font-family: 隶书;">
            &nbsp;<b>不积跬步,&nbsp;&nbsp;<br>
            无以至千里!&nbsp;&nbsp;</b>
        </p>
         
    	<h1 style="color:blue;width:auto;font-family:隶书;font-size:50px;">
            &nbsp;
            <img src="pic/headpic.jpg" width="80" height="80" style="border-width: 3px; border: solid #0000FF ;" />
            <b>猫巾的博客</b>
        </h1> 
       
        <p style="width:auto;text-align:left;font-size:12px;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        网址:&nbsp;&nbsp;<a href="http://hihii11.github.io/GWJ_BLOG.html">http://hihii11.github.io/GWJ_BLOG.html</a>
        </p>
         
        <p id="showtime" style="width:%20;text-align:right;font-size:14px;color: 	#A5DF00;">		 			<b></b>
        </p>
        
    </div>
    
  
<div style="clear:both"> <hr />
</div>



	<div style="clear:both;background-color:#E0E0E0;">
    <button type="button" onclick="first_page()" style="font-size:18px;"><b>首页</b></button>
    <button type="button" onclick="about_author()" style="font-size:16px;"><b>关于作者</b></button>
    <button type="button" onclick="open_source()" style="font-size:16px;"><b>开源资料</b></button>
    <button type="button" onclick="com_author()" style="font-size:16px;"><b>联系博主</b></button>
    </div>
    
    <div>
        <div>&nbsp;</div>
        <div style="float:left;background-color: #04B431;width:26%;position: fixed;  ">
        <div>
        <select id="menu" style="text-align:center;font-size:19px;">
        	  <option value="verilog"><b>verilog</b></option>
              <option value ="MSP432主控板"><b>MSP432主控板</b></option>
              <option value ="MSP432基础函数库"><b>MSP432基础函数库</b></option>
              <option value="上位机"><b>上位机</b></option>
               <option value="智能车竞赛"><b>智能车竞赛</b></option>
        </select>
        </div>
   
    
    	 
    	 <button id="b0" type="button" onclick="b0_func()" class="_select_button"><b></b></button>
         <button id="b1" type="button" onclick="b1_func()" class="_select_button"><b></b></button>
         <button id="b2" type="button" onclick="b2_func()" class="_select_button"><b>GPIO</b></button>
          <button id="b3" type="button" onclick="b3_func()" class="_select_button"><b></b></button>
         <button id="b4" type="button" onclick="b4_func()" class="_select_button"><b></b></button>
          <button id="b5" type="button" onclick="b5_func()" class="_select_button"><b>串口</b></button>
           <button id="b6" type="button" onclick="b6_func()" class="_select_button"><b></b></button>
            <button id="b7" type="button" onclick="b7_func()" class="_select_button"><b></b></button>
         <button id="b8" type="button" onclick="b8_func()" class="_select_button"><b></b></button>
         <button id="b9" type="button" onclick="b9_func()" class="_select_button"><b></b></button>
         <button id="b10" type="button" onclick="b10_func()" class="_select_button"><b></b></button>
         <button id="b11" type="button" onclick="b11_func()" class="_select_button"><b></b></button>
         <button id="b12" type="button" onclick="b12_func()" class="_select_button"><b></b></button>
         <button id="b13" type="button" onclick="b13_func()" class="_select_button"><b></b></button>
         <button id="b14" type="button" onclick="b14_func()" class="_select_button"><b></b></button>
         <button id="b15" type="button" onclick="b15_func()" class="_select_button"><b></b></button>
         <button id="b16" type="button" onclick="b16_func()" class="_select_button"><b></b></button>
    	</div>
        
        
        
        
     <div style="float:right;width:70%;border-width: 5px; border: solid  	#F8F8F8  ;background-color:#FFFFFF;">
        <div align=center>
        <p id="title" style="width:50%;font-size:36px;"><b>基于汉明编码的高速串行通信总线设计</b></p></div><hr />
        <p class="_first_art"><b>资料下载:</b></p>
        <p class="_article">&emsp;&emsp;设计源码:</p>
        <p class="_article">&emsp;&emsp;&emsp;&emsp;<a href="source/verilog/Master_SPI_Signal_bit_DC_v.rar">主机源码(Master_SPI_Signal_bit_DC_v)</a></p>
        <p class="_article">&emsp;&emsp;&emsp;&emsp;<a href="source/verilog/Slave_SPI_Signal_bit_DC_v.zip">从机源码(Slave_SPI_Signal_bit_DC_v)</a></p>
        <p class="_article">&emsp;&emsp;IP核:</p>
        <p class="_article">&emsp;&emsp;&emsp;&emsp;<a href="source/verilog/SPI_Signal_bit_DC_IP.rar">AXI总线封装与普通封装IP核(SPI_Signal_bit_DC_IP)</a></p>
        <p class="_first_art"><b>资料说明:</b></p>
        <p class="_article">&emsp;&emsp;设计源码中包含汉明编码器、汉明解码器、SPI收发模块以及测试文件(test_bench)，可进行二次修改。</p>
        <p class="_article">&emsp;&emsp;IP核设计资料中包含AXI总线接口的封装和普通封装，仅适用于Vivado下zynq系列FPGA。</p>
         <p class="_first_art"><b>模块特点:</b></p>
         <p class="_article">&emsp;&emsp;1.采用类SPI 0模式通信方式，即在sck上升沿发送数据，下降沿接收数据。</p>
         <p class="_article">&emsp;&emsp;2.最大时钟频率可达238Mhz，传输速率可达47Mbps。</p>
         <p class="_article">&emsp;&emsp;3.单比特错误检测以及纠正。</p>
         <p class="_article">&emsp;&emsp;4.两比特以上错误检测。</p>
         <p class="_article">&emsp;&emsp;5.独立的接收中断信号、发送中断信号、错误中断。</p>
         <p class="_article">&emsp;&emsp;6.独立的发送与接收缓冲区。</p>
         <p class="_article">&emsp;&emsp;7.具有错误地址寄存器。</p>
         <p class="_first_art"><b>模块工作流程:</b></p>
        <div align="center">
          <img id="picshow" src="verilog/SPI_DC_send_status.png" width="580" height="350" />
         </div>
         <p class="_article">&emsp;&emsp;<b>1.发送流程:</b><br>&emsp;&emsp;上图描述了该总线在发送一个8比特数据时的过程。首先八位并行数据流经过汉明编码器进行编码得到4位汉明码，然后将四位汉明码与8位数据进行数据重构，组成12位的并行数据，然后经SPI发送模块进行发送。</p>
         <div align="center">
         <img id="picshow" src="verilog/SPI_DC_rec_status.png" width="680" height="450" /></div>
         <p class="_article">&emsp;&emsp;<b>1.接收流程:</b><br>&emsp;&emsp;上图描述了总线接收一个8比特数据的过程，首先12位的串行数据流经SPI接收模块转换为12位并行数据，然后通过数据拆分得到四位汉明码，进而通过汉明码对数据进行错误分析并纠正。最后进行数据重构，得到8位并行数据。</p>
         <p class="_first_art"><b>模块信号说明:</b></p>
          <div align="center">
         <img id="picshow" src="verilog/Signal1.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal2.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal3.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal4.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal5.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal6.png" width="680"  /></div>
          <div align="center">
         <img id="picshow" src="verilog/Signal7.png" width="680"  /></div>
         <div align="center">
         <img id="picshow" src="verilog/Signal8.png" width="680"  /></div>
         <p class="_first_art"><b>功能仿真:(以下图片点击可查看大图)</b></p>
         <p class="_article">&emsp;&emsp;以主机为例，其仿真时序如下:</p>
         <div align="center">
         <img onclick="check_pic0()" id="picshow" src="verilog/sim1.png" width="680"  /></div>
         <p class="_article">1.每次start信号上升沿到来时，对din数据输入端进行采样，然后转入发送状态机，CS端拉低。</p>
          <p class="_article">2.每次数据发送完成后，输出高电平的发送结束标志位，直到下次发送开始之前保持高电平。</p>
          <p class="_article">3.在完整接收一次数据后，接收完成标志位高电平，直到下次接收开始。</p>
          <div align="center">
         <img onclick="check_pic1()" id="picshow" src="verilog/sim2.png" width="680"  /></div>
           <p class="_article">&emsp;&emsp;设置第0位取反模拟单比特错误产生。此时error_only信号拉高，提示出现单比特错误，并对错误的位数进行纠正。</p>
            <div align="center">
         <img onclick="check_pic2()"id="picshow" src="verilog/sim3.png" width="680"  /></div>
           <p class="_article">&emsp;&emsp;设置第7位与第七位取反模拟两比特错误产生。此时error_only和errormul信号拉高，提示出现两比特以上错误。</p>
           <p class="_first_art"><b>总结:</b></p>
            <p class="_article">&emsp;&emsp;由于汉明码默认数据在传输过程中出现单比特传输错误的可能性远大于出现多个比特错误的可能性(事实也是如此)，所以在本设计中对于两比特以上错误的检测，只能检测除最高位以外的其它位错误，若出现错误的比特位不包含最高位，则无法检测。具有很大的局限性。</p>
     </div>
     
     
     
     
     
     
    <div style="clear:both;">&nbsp;</div>
    
        <div style="width:auto;heigth:10%;background-color:#0B610B;">
    <p style="font-size:10px;">&nbsp;</p>
    <p style="text-align:center;font-size:16px;color:#FFF;"><b>2022年1月创 于 Github管理<br>
    http://hihii11.github.io/GWJ_BLOG.html<br>
    @猫巾<br>&nbsp;
    </b></p>
    </div>
<body>   
</html>
