<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<link rel="stylesheet" href="codemirror/theme/darcula.css" type="text/css"/>
<link rel="stylesheet" href="codemirror/lib/codemirror.css" type="text/css"/>
<link rel="stylesheet" href="codemirror/theme/dracula.css">
<link rel="stylesheet" href="codemirror/theme/eclipse.css">
 <link rel="stylesheet" href="codemirror/addon/display/fullscreen.css">
<script src="codemirror/addon/display/fullscreen.js"></script>
<script src="codemirror/mode/clike/clike.js"></script><script src="codemirror/mode/verilog/verilog.js"></script>
<script src="codemirror/lib/codemirror.js"></script>
<head>
	 <script type="text/javascript">
        SyntaxHighlighter.config.clipboardSwf = 		'SyntaxHighlighter/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings = {//该为中文配置
            expandSource : '展开代码',
            viewSource : '查看代码',
            copyToClipboard : '复制代码',
            copyToClipboardConfirmation : '代码复制成功',
            print : '打印',
            help: '?',
            alert: '语法高亮\n\n',
            noBrush: '不能找到刷子: ',
            brushNotHtmlScript: '刷子没有配置html-script选项',
            aboutDialog: '<div></div>'
        };
	SyntaxHighlighter.all();
    </script> 
	
    <script>
	function clock_set(num)
	{
		if(num < 10)
		{
			return "0"+num;
		}
		else
		{
			return num;
		}
	}
   	function gettime()
	{
		 var dat=new Date();
		 var hour= clock_set(dat.getHours());
		 var mint=clock_set(dat.getMinutes());
		 var second=clock_set(dat.getSeconds());
		 var time=hour+mint+second;
		 var txt = "";
		
		 if(hour>=9 && hour<12)
		 {
			txt = "上午"
		 }
		 else if(hour>=6 && hour<9)
		 {
			 txt = "早上"
		 }
		  else if(hour>=12 && hour<18)
		 {
			 txt = "下午"
		 }
		 else if(hour>=18 && hour<24)
		 {
			 txt = "晚上"
		 }
		 else
		 {
			 txt = "凌晨"
		 }
		 document.getElementById("showtime").innerHTML ="当前时间: "+txt+
		  hour+":"+mint+":"+second;
		 
	}
	setInterval(function() {gettime()},100);
    </script>
    
    <script language="javascript" type="text/javascript">
	function first_page(){
			window.location.href="GWJ_BLOG.html";
			}
	function about_author(){
		window.location.href="about_author.html";
	}
	function open_source(){
		window.location.href="open_source.html";
	}
	function com_author(){
		window.location.href="com_author.html";
	}
    </script>
    
    <script language="javascript" type="text/javascript">
	var button_ID = 0;
	function b0_func()
	{
		 button_ID = 0;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_general.html";
	}
	function b1_func()
	{
		 button_ID = 1;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_FRE.html";
	}
	function b2_func()
	{
		 button_ID = 2;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_GPIO.html";
	}
	function b3_func()
	{
		 button_ID = 3;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_GPIOINT.html";
	}
	function b4_func()
	{
		 button_ID = 4;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_Timer.html";
	}
	function b5_func()
	{
		 button_ID = 5;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_UART.html";
	}
	function b6_func()
	{
		 button_ID = 6;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_IIC.html";
	}
	function b7_func()
	{
		 button_ID = 7;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_ADC14.html";
	}
	function b8_func()
	{
		 button_ID = 8;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_PWM.html";
	}
	function b9_func()
	{
		 button_ID = 9;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_BUZZER.html";
	}
	function b10_func()
	{
		 button_ID = 10;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_roate.html";
	}
	function b11_func()
	{
		 button_ID = 11;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_EEPROM.html";
	}
	function b12_func()
	{
		 button_ID = 12;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_ADC0832.html";
	}
	function b13_func()
	{
		 button_ID = 13;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_Oscil.html";
	}
	function b14_func()
	{
		 button_ID = 14;
		 if(get_select_val("menu")=="MSP432基础函数库")

		 	window.location.href="MSP432_motor.html";
	}
	function b15_func()
	{
		 button_ID = 15;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_steer.html";
	}
	function b16_func()
	{
		 button_ID = 16;
		 if(get_select_val("menu")=="MSP432基础函数库")
		 	window.location.href="MSP432_PID.html";
	}
	function get_select_val(id)
	{
		var index=document.getElementById(id).selectedIndex ;
		val=document.getElementById(id).options[index].value;
		return val;
	}
	function set_button_txt(id,txt)
	{
		document.getElementById(id).innerHTML = txt;
	}
	function set_button_display(id,status)
	{
		if(status==1)
			document.getElementById(id).style.display = "";
	    else
			document.getElementById(id).style.display ="none";
	}
	function slect_0_button_txt()
	{
		if(get_select_val("menu")=="MSP432基础函数库")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",1);
			set_button_display("b4",1);
			set_button_display("b5",1);
			set_button_display("b6",1);
			set_button_display("b7",1);
			set_button_display("b8",1);
			set_button_display("b9",1);
			set_button_display("b10",1);
			set_button_display("b11",1);
			set_button_display("b12",1);
			set_button_display("b13",1);
			set_button_display("b14",1);
			set_button_display("b15",1);
			set_button_display("b16",1);
			set_button_txt("b0","总览");
			set_button_txt("b1","主频设置");
			set_button_txt("b2","GPIO");
			set_button_txt("b3","GPIO中断");
			set_button_txt("b4","定时器中断");
			set_button_txt("b5","UART串口");
			set_button_txt("b6","模拟IIC");
			set_button_txt("b7","ADC14");
			set_button_txt("b8","PWM波");
			set_button_txt("b9","蜂鸣器");
			set_button_txt("b10","旋转编码开关");
			set_button_txt("b11","EEPROM");
			set_button_txt("b12","ADC0832");
			set_button_txt("b13","虚拟示波器");
			set_button_txt("b14","电机");
			set_button_txt("b15","舵机");
			set_button_txt("b16","PID控制");
		}
		else if(get_select_val("menu")=="MSP432主控板")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","1型板");
			set_button_txt("b2","2型板");
		}
		else if(get_select_val("menu")=="verilog")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",1);
			set_button_display("b4",1);
			set_button_display("b5",1);
			set_button_display("b6",1);
			set_button_display("b7",1);
			set_button_display("b8",1);
			set_button_display("b9",1);
			set_button_display("b10",1);
			set_button_display("b11",1);
			set_button_display("b12",1);
			set_button_display("b13",1);
			set_button_display("b14",1);
			set_button_display("b15",1);
			set_button_display("b16",1);
			set_button_txt("b0","总览");
			set_button_txt("b1","主频设置");
			set_button_txt("b2","GPIO");
			set_button_txt("b3","GPIO中断");
			set_button_txt("b4","定时器中断");
			set_button_txt("b5","UART串口");
			set_button_txt("b6","模拟IIC");

			set_button_txt("b7","ADC14");
			set_button_txt("b8","PWM波");
			set_button_txt("b9","蜂鸣器");
			set_button_txt("b10","旋转编码开关");
			set_button_txt("b11","EEPROM");
			set_button_txt("b12","ADC0832");
			set_button_txt("b13","虚拟示波器");
			set_button_txt("b14","电机");
			set_button_txt("b15","舵机");
			set_button_txt("b16","PID控制");
		}
		else if(get_select_val("menu")=="上位机")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",1);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","虚拟串口助手");
			set_button_txt("b2","AI训练可视化上位机");
			set_button_txt("b2","AI训练数据采集上位机");
		}
		else if(get_select_val("menu")=="智能车竞赛")
		{
			set_button_display("b0",1);
			set_button_display("b1",1);
			set_button_display("b2",0);
			set_button_display("b3",0);
			set_button_display("b4",0);
			set_button_display("b5",0);
			set_button_display("b6",0);
			set_button_display("b7",0);
			set_button_display("b8",0);
			set_button_display("b9",0);
			set_button_display("b10",0);
			set_button_display("b11",0);
			set_button_display("b12",0);
			set_button_display("b13",0);
			set_button_display("b14",0);
			set_button_display("b15",0);
			set_button_display("b16",0);
			set_button_txt("b0","总览");
			set_button_txt("b1","技术报告");
		}
	}
	
	function menu_refresh()
	{
		 slect_0_button_txt();
	}
	setInterval(function() {menu_refresh()},100);
	</script>
    
    
    
    <style type="text/css">
		._select_button {font-size:18px;
						background-color:#A5DF00;
						width:80%;
						}
		._display {margin-left: 20px}
	</style>
</head>


<body background="pic/bg.png">

	
	<div style="width:auto;heigth:10%;background-color:#0B610B;">
    
    	<p>&nbsp;</p>
        
        <p style="width: auto; text-align: left; font-size: 30px; float: right; text-align: right; color: #FFF; background-color: #0B610B; font-family: 隶书;">
            &nbsp;<b>不积跬步,&nbsp;&nbsp;<br>
            无以至千里!&nbsp;&nbsp;</b>
        </p>
         
    	<h1 style="color:blue;width:auto;font-family:隶书;font-size:50px;">
            &nbsp;
            <img src="pic/headpic.jpg" width="80" height="80" style="border-width: 3px; border: solid #0000FF ;" />
            <b>猫巾的博客</b>
        </h1> 
       
        <p style="width:auto;text-align:left;font-size:12px;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        网址:&nbsp;&nbsp;<a href="http://hihii11.github.io/GWJ_BLOG.html">http://hihii11.github.io/GWJ_BLOG.html</a>
        </p>
         
        <p id="showtime" style="width:%20;text-align:right;font-size:14px;color: 	#A5DF00;">		 			<b></b>
        </p>
        
    </div>
    
  
<div style="clear:both"> <hr />
</div>



	<div style="clear:both;background-color:#E0E0E0;">
    <button type="button" onclick="first_page()" style="font-size:18px;"><b>首页</b></button>
    <button type="button" onclick="about_author()" style="font-size:16px;"><b>关于作者</b></button>
    <button type="button" onclick="open_source()" style="font-size:16px;"><b>开源资料</b></button>
    <button type="button" onclick="com_author()" style="font-size:16px;"><b>联系博主</b></button>
    </div>
    
    <div>
        <div>&nbsp;</div>
        <div style="float:left;background-color: #04B431;width:26%">
        <div>
        <select id="menu" style="text-align:center;font-size:19px;">
              <option value ="MSP432基础函数库"><b>MSP432基础函数库</b></option>
              <option value ="MSP432主控板"><b>MSP432主控板</b></option>
              <option value="verilog"><b>verilog</b></option>

              <option value="上位机"><b>上位机</b></option>
               <option value="智能车竞赛"><b>智能车竞赛</b></option>
        </select>
        </div>
   
    
    	 
    	 <button id="b0" type="button" onclick="b0_func()" class="_select_button"><b>总览</b></button>
         <button id="b1" type="button" onclick="b1_func()" class="_select_button"><b>主频设置</b></button>
         <button id="b2" type="button" onclick="b2_func()" class="_select_button"><b>GPIO</b></button>
          <button id="b3" type="button" onclick="b3_func()" class="_select_button"><b>GPIO中断</b></button>
         <button id="b4" type="button" onclick="b4_func()" class="_select_button"><b>定时器中断</b></button>
          <button id="b5" type="button" onclick="b5_func()" class="_select_button"><b>UART串口</b></button>
           <button id="b6" type="button" onclick="b6_func()" class="_select_button"><b>模拟IIC</b></button>
            <button id="b7" type="button" onclick="b7_func()" class="_select_button"><b>ADC14</b></button>
         <button id="b8" type="button" onclick="b8_func()" class="_select_button"><b>PWM波</b></button>
         <button id="b9" type="button" onclick="b9_func()" class="_select_button"><b>蜂鸣器</b></button>
         <button id="b10" type="button" onclick="b10_func()" class="_select_button"><b>旋转编码开关</b></button>
         <button id="b11" type="button" onclick="b11_func()" class="_select_button"><b>EEPROM</b></button>
         <button id="b12" type="button" onclick="b12_func()" class="_select_button"><b>ADC0832</b></button>
         <button id="b13" type="button" onclick="b13_func()" class="_select_button"><b>虚拟示波器</b></button>
         <button id="b14" type="button" onclick="b14_func()" class="_select_button"><b>电机</b></button>
         <button id="b15" type="button" onclick="b15_func()" class="_select_button"><b>舵机</b></button>
         <button id="b16" type="button" onclick="b16_func()" class="_select_button"><b>PID控制</b></button>
    	</div>
        
        
        
        
     <div style="float:right;width:70%;border-width: 5px; border: solid  	#F8F8F8  ;background-color:#FFFFFF;">
        <div align=center>
        <p id="title" style="width:50%;font-size:36px;"><b>定时器中断说明</b></p></div><hr />
        <div id="article" style="_article">
        <p>
        	<font style="font-size:22px;">
            	&emsp;&emsp;有关MSP432定时器中断的函数库及头文件声明:exinTimerAINT.c exinTimerAINT.h
                &emsp;&emsp;<br>
                &emsp;&emsp;相关重要函数说明：<br>
        </p></div>
        
        
       <p style="font-size:22px;">
       	    &emsp;&emsp;在本库中给出了两种定时器中断实现方式分别为UP模式与CONTINUOUS模式。<br>
        	&emsp;&emsp;1.将TimerA配置为UP模式时的中断初始化函数。<br>
        </p></font>
       <textarea id="code0" name="code0">
/*************************************************
 * 函  数  名:TimerA_CCR0INT_init
 * 功       能:调用此函数将TimerA设置为UP模式，并允许CCR0中断
 * 参       数:TIMERAn:可选TimerA模块，在exinuart.h中列出
 * 注意事项:调用此函数后，可以使用的中断函数为
 *          TA0_0_IRQHandler  TA1_0_IRQHandler
 *          TA2_0_IRQHandler  TA3_0_IRQHandler
 *************************************************/
void TimerA_CCR0INT_init(TIMERA_enum TIMERAn , int period)
{
    TimerA_CLK_set(TIMERAn,TIMERA_ACLK,TIMERA_DIV1,TIMERA_DIV1);//选择ACLK作为时钟，并且分频为ID=1 IDEX=1  32768hz
    TimerA_MOD_sel(TIMERAn,UP);//选择TimerA工作模式为UP 即计数到CCR0结束计数
    period = period_cvert(TIMERAn,period);//计算写入CCR0的数值
    //以下为中断配置
    //1)设置TImerA CCR0的NVIC中断使能
    TimerA_NVIC_IRQ_set(TIMERAn,TIMERA_TA0);
    //2)允许来自CCR0的中断请求
    TimerA_enable_CCRnIRQ(TIMERAn,TIMERA_CCR0);
    //3)向CCR0写入比较值
    TimerA_CCRVAL_set(TIMERAn,TIMERA_CCR0,period);
    //4)开启总中断
    __enable_interrupt();
}
</textarea>
     
      <p style="font-size:22px;">
        	&emsp;&emsp;2.在UP模式下的中断服务函数<br>
       	    &emsp;&emsp;在UP模式下所对应的中断服务函数共四个在exinisr.c中查看，为TAn_0_IRQHandler();(n=1,2,3,4)<br>
       </p>
<textarea id="code1" name="code1">

void TA0_0_IRQHandler(void) {
    TIMER_A0->CCTL[0] &= ~TIMER_A_CCTLN_CCIFG;
    gpio_toggle(GPIO_PORT_P1,GPIO_PIN0);
}


void TA1_0_IRQHandler(void) {
    TIMER_A1->CCTL[0] &= ~TIMER_A_CCTLN_CCIFG;


    /*添加程序*/
}
void TA2_0_IRQHandler(void) {
    TIMER_A2->CCTL[0] &= ~TIMER_A_CCTLN_CCIFG;
    /*添加程序*/

}

void TA3_0_IRQHandler(void) {
    TIMER_A3->CCTL[0] &= ~TIMER_A_CCTLN_CCIFG;
}

</textarea>
    <p style="font-size:22px;">   
        3.将TimerA配置为CONTINUOUS模式时的中断初始化函数。<br></p>
       
<textarea id="code2" name="code2">
 /*************************************************
 * 函  数  名:TimerA_CCRnINT_init
 * 功       能:调用此函数将TimerA设置为CONTIUNOUS模式，并允许CCRn中断
 * 参       数:TIMERAn:可选TimerA模块，在exinuart.h中列出
 *          TIMERA_CCR:可选的CCR，在exinuart.h中列出
 *          period:定时器中断周期，单位ms
 * 注意事项:调用此函数后，可以使用的中断函数为
 *          TA0_N_IRQHandler  TA1_N_IRQHandler
 *          TA2_N_IRQHandler  TA3_N_IRQHandler
 *          （isr.c）中查看，目前只写了TA3_N_IRQHandler中的几个CCR的中断处理其他TIMERA可以根据自己需要编写
 *************************************************/
uint16 CCRn_period_val[4][7] = {0};//用于存储周期参数设置
void TimerA_CCRnINT_init(TIMERA_enum TIMERAn , TIMERA_CCR_enum TIMERA_CCR,int period)
{
    TimerA_CLK_set(TIMERAn,TIMERA_ACLK,TIMERA_DIV1,TIMERA_DIV1);//选择ACLK作为时钟，并且分频为ID=1 IDEX=1  32768hz
    TimerA_MOD_sel(TIMERAn,CONTINUOUS);//选择TimerA工作模式为CONTINUOUS 即计数到0xFFFFh 再清零
    period = period_cvert(TIMERAn,period);
    CCRn_period_val[TIMERAn][TIMERA_CCR]=period;
    //以下为中断配置
   //1)设置TImerA CCRn的NVIC中断使能
   TimerA_NVIC_IRQ_set(TIMERAn,TIMERA_TAN);
   //2)允许来自CCRn的中断请求
   TimerA_enable_CCRnIRQ(TIMERAn,TIMERA_CCR);
   //3)向CCRn写入初值值
   TimerA_CCRVAL_set(TIMERAn,TIMERA_CCR,period);
   //4)开启总中断
   __enable_interrupt();
}
</textarea>
 
  <p style="font-size:22px;">
        	&emsp;&emsp;4.在CONTINUOUS模式下的中断服务函数<br>
       	    &emsp;&emsp;在CONTINUOUS模式下所对应的中断服务函数共四个在exinisr.c中查看，为TAn_N_IRQHandler();(n=1,2,3,4)<br>其中给出了TA3_N_IRQHandler();的中断服务函数实现，其余TA0_N_IRQHandler~TA2_N_IRQHandler可根据需要进行拓展。
       </p>   

 <textarea id="code3" name="code3">  
void TA0_N_IRQHandler(void)
{
    /*添加程序*/
}

void TA1_N_IRQHandler(void)
{
    /*添加程序*/
}

void TA2_N_IRQHandler(void)
{
    /*添加程序*/
}

void TA3_N_IRQHandler(void)
{
    if((TIMER_A3->CCTL[TIMERA_CCR0]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
          (TIMER_A3->CCTL[TIMERA_CCR0]&TIMER_A_CCTLN_CCIE))//判断CCR1中断是否使能
       {
           /***************将TA3_N用作定时器中断时这几行务必保留****************/
           TIMER_A3->CCTL[TIMERA_CCR0] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR1中断标志位
           TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR0,TIMER_A3->CCR[TIMERA_CCR0] + CCRn_period_val[TIMERA_A3][TIMERA_CCR0]);//更新CCR寄存器
           /***************将TA3_N用作定时器中断时这几行务必保留****************/


           /***********************以下添加用户的处理函数*********************/

           /***********************用户处理函数添加结束行*********************/
       }
    if((TIMER_A3->CCTL[TIMERA_CCR1]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
       (TIMER_A3->CCTL[TIMERA_CCR1]&TIMER_A_CCTLN_CCIE))//判断CCR1中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR1] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR1中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR1,TIMER_A3->CCR[TIMERA_CCR1] + CCRn_period_val[TIMERA_A3][TIMERA_CCR1]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR2]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR2]&TIMER_A_CCTLN_CCIE))//判断CCR2中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR2] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR2中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR2,TIMER_A3->CCR[TIMERA_CCR2] + CCRn_period_val[TIMERA_A3][TIMERA_CCR2]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR3]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR3]&TIMER_A_CCTLN_CCIE))//判断CCR3中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR3] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR3中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR3,TIMER_A3->CCR[TIMERA_CCR3] + CCRn_period_val[TIMERA_A3][TIMERA_CCR3]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR4]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR4]&TIMER_A_CCTLN_CCIE))//判断CCR4中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR4] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR4中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR4,TIMER_A3->CCR[TIMERA_CCR4] + CCRn_period_val[TIMERA_A3][TIMERA_CCR4]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
}
      </textarea>
         <p style="font-size:22px;">
                应用举例:<br>
                1.将TimerA配置为UP模式下实现的中断，使得LED1以1s间隔闪烁
        </p>
 <textarea id="code4" name="code4">  
//首先是主函数中的初始化配置
 #include "exinlibs\headfile.h"//务必将库中的headfile.h文件包含进来

 void main()
 {
    system_init(0);
    set_DCO_48MH();//将MSP432主频设置为48Mhz
    /*****模块初始化程序*****/0ms
    gpio_init(GPIO_PORT_P1,GPIO_PIN0,GPO,0);//将P1.0(LED)设置为输出低电平
    TimerA_CCR0INT_init(TIMERA_A0 , 500);//设置TimerA0 在UP模式下的中断周期为50
    /*****模块初始化程序*****/
    while(1);            
 }
 </textarea> 
  <p style="font-size:22px;">
                在exinisr.c中找到TA0_0_IRQHandler(void),将其修改为:
        </p>
 <textarea id="code5" name="code5">  
void TA0_0_IRQHandler(void) {
    TIMER_A0->CCTL[0] &= ~TIMER_A_CCTLN_CCIFG;
    gpio_toggle(GPIO_PORT_P1,GPIO_PIN0);
}

  </textarea>  
  
   <p style="font-size:22px;">
                2.将TimerA配置为CONTINUOUS模式下实现的中断，使得LED1红灯以1s间隔闪烁，LED2蓝灯以250ms为间隔闪烁。
        </p>
   <textarea id="code6" name="code6">  
   //首先是主函数中的初始化配置
 #include "exinlibs\headfile.h"//务必将库中的headfile.h文件包含进来

    void main()
 {
    system_init(0);
    set_DCO_48MH();//将MSP432主频设置为48Mhz
    /*****模块初始化程序*****/0ms
    gpio_init(GPIO_PORT_P1,GPIO_PIN0,GPO,0);//将P1.0(红)设置为输出低电平
    gpio_init(GPIO_PORT_P2,GPIO_PIN2,GPO,0);//将P2.2(蓝)设置为输出低电
   TimerA_CCRnINT_init(TIMERA_A3 , TIMERA_CCR1 ,500);//设置TimerA3在CONTINUOUS模式下CCR1中断周期为500ms
   TimerA_CCRnINT_init(TIMERA_A3 , TIMERA_CCR2 ,125);//设置TimerA3在CONTINUOUS模式下CCR2中断周期为125ms
    /*****模块初始化程序*****/
    while(1);            
 }
   </textarea>
   <p style="font-size:22px;">
                在exinisr.c中找到TA3_N_IRQHandler(void),将其修改为:
        </p>
        <textarea id="code7" name="code7">  
void TA3_N_IRQHandler(void)
{
    if((TIMER_A3->CCTL[TIMERA_CCR0]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
          (TIMER_A3->CCTL[TIMERA_CCR0]&TIMER_A_CCTLN_CCIE))//判断CCR1中断是否使能
       {
           /***************将TA3_N用作定时器中断时这几行务必保留****************/
           TIMER_A3->CCTL[TIMERA_CCR0] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR1中断标志位
           TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR0,TIMER_A3->CCR[TIMERA_CCR0] + CCRn_period_val[TIMERA_A3][TIMERA_CCR0]);//更新CCR寄存器
           /***************将TA3_N用作定时器中断时这几行务必保留****************/


           /***********************以下添加用户的处理函数*********************/

           /***********************用户处理函数添加结束行*********************/
       }
    if((TIMER_A3->CCTL[TIMERA_CCR1]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
       (TIMER_A3->CCTL[TIMERA_CCR1]&TIMER_A_CCTLN_CCIE))//判断CCR1中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR1] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR1中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR1,TIMER_A3->CCR[TIMERA_CCR1] + CCRn_period_val[TIMERA_A3][TIMERA_CCR1]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/
		gpio_toggle(GPIO_PORT_P1,GPIO_PIN0);
        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR2]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR2]&TIMER_A_CCTLN_CCIE))//判断CCR2中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR2] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR2中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR2,TIMER_A3->CCR[TIMERA_CCR2] + CCRn_period_val[TIMERA_A3][TIMERA_CCR2]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/
		gpio_toggle(GPIO_PORT_P2,GPIO_PIN2);
        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR3]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR3]&TIMER_A_CCTLN_CCIE))//判断CCR3中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR3] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR3中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR3,TIMER_A3->CCR[TIMERA_CCR3] + CCRn_period_val[TIMERA_A3][TIMERA_CCR3]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
    if((TIMER_A3->CCTL[TIMERA_CCR4]&TIMER_A_CCTLN_CCIFG)&&//判断中断标志位是否有效
            (TIMER_A3->CCTL[TIMERA_CCR4]&TIMER_A_CCTLN_CCIE))//判断CCR4中断是否使能
    {
        /***************将TA3_N用作定时器中断时这几行务必保留****************/
        TIMER_A3->CCTL[TIMERA_CCR4] &= ~TIMER_A_CCTLN_CCIFG;//清除CCR4中断标志位
        TimerA_CCRVAL_set(TIMERA_A3,TIMERA_CCR4,TIMER_A3->CCR[TIMERA_CCR4] + CCRn_period_val[TIMERA_A3][TIMERA_CCR4]);//更新CCR寄存器
        /***************将TA3_N用作定时器中断时这几行务必保留****************/


        /***********************以下添加用户的处理函数*********************/

        /***********************用户处理函数添加结束行*********************/
    }
}
   </textarea>
     </div>
     
    <div style="clear:both;">&nbsp;</div>
    
        <div style="width:auto;heigth:10%;background-color:#0B610B;">
    <p style="font-size:10px;">&nbsp;</p>
    <p style="text-align:center;font-size:16px;color:#FFF;"><b>2022年1月创 于 Github管理<br>
    http://hihii11.github.io/GWJ_BLOG.html<br>
    @猫巾<br>&nbsp;
    </b></p>
    </div>
<body>   
</html>
 <script type="text/javascript">
           var editor = CodeMirror.fromTextArea(document.getElementById("code0"),
		    {
            mode: "text/x-csrc",
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
			fullScreen:true,
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		  var editor1 = CodeMirror.fromTextArea(document.getElementById("code1"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		   var editor2 = CodeMirror.fromTextArea(document.getElementById("code2"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		   var editor3 = CodeMirror.fromTextArea(document.getElementById("code3"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		    var editor4 = CodeMirror.fromTextArea(document.getElementById("code4"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		    var editor5 = CodeMirror.fromTextArea(document.getElementById("code5"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		    var editor6 = CodeMirror.fromTextArea(document.getElementById("code6"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
		    var editor7 = CodeMirror.fromTextArea(document.getElementById("code7"),
		    {
            mode:'text/x-csrc',
            lineNumbers: true,  //显示行号
			styleActiveLine: true, 
            theme: "dracula", //设置主题
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
          });
</script>
